<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Online Cooking Competition</title>
<style>
body { font-family: Arial, sans-serif; margin:0; background:#fff8f0; color:#333; position: relative; }

/* Decorations */
#leftDecoration, #rightDecoration { position: fixed; top: 0; width: 80px; height: 100%; z-index: 0; display: flex; flex-direction: column; align-items: center; gap: 10px; padding: 10px; }
#leftDecoration img, #rightDecoration img { width: 60px; height: 60px; object-fit: cover; border-radius: 10px; }
#leftDecoration { left: 0; } #rightDecoration { right: 0; }

/* Header and nav */
header { background: linear-gradient(90deg, #ff7043, #ff9800); color:white; padding:20px; text-align:center; position: relative; z-index:1;}
nav { background:#333; padding:10px; text-align:center; position: relative; z-index:1;}
nav a { color:white; margin:0 10px; text-decoration:none; font-weight:bold; font-size:14px; }
nav a:hover { text-decoration:underline; }

/* Sections */
section { padding:20px 30px; position: relative; z-index:1; }

/* Cards */
.card-container { display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:15px; }
.card { background:white; padding:15px; border-radius:10px; box-shadow:0 4px 8px rgba(0,0,0,0.1); }
.card h3 { color:#ff7043; }

/* Buttons */
button { background:#ff7043; border:none; color:white; padding:6px 10px; border-radius:5px; cursor:pointer; font-size:14px; }
button:hover { background:#e64a19; }

/* Forms */
#recipeForm, #registrationForm { display:none; background:white; padding:15px; margin-top:15px; border-radius:10px; box-shadow:0 4px 8px rgba(0,0,0,0.2); max-width:450px;}
input, textarea, select { width:100%; padding:6px; margin:6px 0; font-size:14px;}
.message { margin-top:8px; color:green; font-weight:bold; font-size:14px; }

/* Recipe media */
.recipe-media { display:flex; gap:8px; flex-wrap:wrap; margin-top:8px; }
.recipe-media img, .recipe-media video { width:100px; height:70px; object-fit:cover; border-radius:5px; }

/* Admin logo fixed corner */
#adminLogo { position: fixed; top: 20px; right: 20px; width:40px; height:40px; background:#ff7043; border-radius:50%; text-align:center; line-height:40px; color:white; font-weight:bold; cursor:pointer; z-index:999;}
#adminContainer { display:none; position:absolute; top:50px; right:20px; width:300px; background:white; padding:15px; border-radius:10px; box-shadow:0 4px 10px rgba(0,0,0,0.3); text-align:left; z-index:999;}
</style>
</head>
<body>

<header>
<h1>Online Cooking Competition</h1>
<p>Showcase Your Culinary Skills ‚Ä¢ Cook ‚Ä¢ Compete ‚Ä¢ Win</p>
</header>

<nav>
<a href="#about">About</a>
<a href="#roles">Roles</a>
<a href="#registration">Register</a>
<a href="#submission">Recipe Submission</a>
<a href="#voting">Voting</a>
<a href="#certificates">Certificates</a>
</nav>

<section id="about">
<h2>About the Competition</h2>
<p>This digital platform hosts an <b>Online Cooking Competition</b> where chefs showcase their cooking talent.</p>
</section>

<section id="roles">
<h2>Participants & Roles</h2>
<div class="card-container">
<div class="card"><h3>Chef</h3><p>Submit recipes, steps, and cooking media.</p></div>
<div class="card"><h3>Audience</h3><p>View recipes and vote for favorites.</p></div>
</div>
</section>

<section id="registration">
<h2>Participant Registration</h2>
<div id="registrationForm" style="display:block;">
    <label>Full Name</label>
    <input type="text" id="participantName" placeholder="Enter your full name">
    <label>Email</label>
    <input type="email" id="participantEmail" placeholder="e.g., xyz@gmail.com">
    <label>Contact Number</label>
    <input type="text" id="participantPhone" placeholder="Enter 10-digit phone number">
    <label>Role</label>
    <select id="participantRole">
        <option value="">Select Role</option>
        <option value="chef">Chef</option>
        <option value="audience">Audience</option>
    </select>
    <button onclick="registerParticipant()">Register</button>
    <p id="registrationMsg" class="message"></p>
</div>
</section>

<section id="submission">
<h2>Recipe Submission</h2>
<ul>
<li>Recipe Name</li>
<li>Ingredients</li>
<li>Cooking Method</li>
<li>Preparation Time</li>
<li>Images or Videos</li>
</ul>
<button onclick="openRecipeForm()">Submit Recipe</button>
<div id="recipeForm">
<h3>Recipe Submission Form</h3>
<label>Recipe Name</label>
<input type="text" id="recipeName">
<label>Ingredients</label>
<textarea id="ingredients"></textarea>
<label>Cooking Method</label>
<textarea id="method"></textarea>
<label>Preparation Time</label>
<input type="text" id="prepTime">
<label>Upload Images</label>
<input type="file" id="recipeImages" accept="image/*" multiple>
<label>Upload Videos</label>
<input type="file" id="recipeVideos" accept="video/*" multiple>
<button onclick="submitRecipe()">Submit</button>
<p id="submitMsg" class="message"></p>
</div>
</section>

<section id="voting">
<h2>Voting System</h2>
<p>Audience can vote once per recipe.</p>
<div id="voteList"></div>
<p id="voteMsg" class="message"></p>
<button onclick="voteNow()">Vote Now</button>
</section>

<section id="certificates">
<h2>Certificates & Rewards</h2>
<p>Participants receive digital certificates and rewards.</p>
<button onclick="downloadCertificate()">Download Certificate</button>
<p id="certMsg" class="message"></p>
</section>

<!-- Admin fixed corner logo -->
<div id="adminLogo" onclick="toggleAdmin()">A</div>

<div id="adminContainer">
<h3>Admin Panel</h3>
<label>Email</label>
<input type="email" id="adminEmail" placeholder="Enter admin email">
<label>Password</label>
<input type="password" id="adminPassword" placeholder="Enter password">
<button onclick="adminLogin()">Login</button>
<p id="adminMsg" class="message"></p>
<div id="adminData"></div>
<button onclick="clearAllData()">Clear All Data</button>
</div>

<footer>
<p>¬© 2026 Online Cooking Competition | Inspired by India‚Äôs Love for Food üçõ</p>
</footer>

<script>
let registeredParticipant = null;
let participants = [];
let recipes = [];
let votes = {};
let adminLoggedIn = false;
const adminCredentials = { email:"pranay@gmail.com", password:"939180" };

// Toggle admin panel visibility
function toggleAdmin(){
    const container=document.getElementById('adminContainer');
    container.style.display = container.style.display==='block'?'none':'block';
}

// Registration
function registerParticipant(){
    const name = participantName.value.trim();
    const email = participantEmail.value.trim();
    const phone = participantPhone.value.trim();
    const role = participantRole.value;

    if(!name || !email || !phone || !role){ alert("All fields required!"); return; }
    const emailPattern = /^[a-zA-Z0-9._%+-]+@gmail\.com$/;
    if(!emailPattern.test(email)){ alert("Email must be full format: xxxxx@gmail.com"); return; }
    const phonePattern=/^\d{10}$/;
    if(!phonePattern.test(phone)){ alert("Phone must be exactly 10 digits"); return; }
    if(participants.some(p=>p.email===email)){ alert("Already registered"); return; }

    const participant = {name,email,phone,role};
    participants.push(participant);
    registeredParticipant = participant;
    registrationMsg.textContent = `Participant '${name}' registered successfully as ${role}!`;
    participantName.value=""; participantEmail.value=""; participantPhone.value=""; participantRole.value="";
}

// Recipe
function openRecipeForm(){
    if(!registeredParticipant){ alert("Register first!"); return; }
    if(registeredParticipant.role!=="chef"){ alert("Only chefs can submit!"); return; }
    recipeForm.style.display="block";
}

function submitRecipe(){
    if(!registeredParticipant || registeredParticipant.role!=="chef"){ alert("Only chefs!"); return; }
    const name=document.getElementById("recipeName").value.trim();
    const ingredients=document.getElementById("ingredients").value.trim();
    const method=document.getElementById("method").value.trim();
    const prepTime=document.getElementById("prepTime").value.trim();
    const images=Array.from(document.getElementById("recipeImages").files);
    const videos=Array.from(document.getElementById("recipeVideos").files);
    if(!name || !ingredients || !method || !prepTime){ alert("Fill all fields"); return; }
    const recipe={participant:registeredParticipant,name,ingredients,method,prepTime,images,videos,voteCount:0};
    recipes.push(recipe);
    submitMsg.textContent = `Recipe '${name}' submitted successfully!`;
    recipeName.value=""; ingredients.value=""; method.value=""; prepTime.value="";
    recipeImages.value=""; recipeVideos.value="";
}

// Voting
function voteNow(){
    if(!registeredParticipant){ alert("Register first"); return; }
    if(registeredParticipant.role!=="audience"){ alert("Only audience can vote"); return; }
    if(recipes.length===0){ alert("No recipes"); return; }
    voteList.innerHTML = recipes.map(r => 
      `<div>${r.name} by ${r.participant.name} <button onclick="castVote('${r.name}')">Vote</button></div>`).join('');
}

function castVote(recipeName){
    const recipe = recipes.find(r=>r.name===recipeName);
    if(!votes[registeredParticipant.email]) votes[registeredParticipant.email]=[];
    if(votes[registeredParticipant.email].includes(recipeName)){ alert("Already voted"); return; }
    votes[registeredParticipant.email].push(recipeName);
    recipe.voteCount++;
    voteMsg.textContent=`Voted for '${recipeName}'! Total votes: ${recipe.voteCount}`;
}

// Certificates
function downloadCertificate(){
    if(!registeredParticipant){ alert("Register first"); return; }
    certMsg.textContent="Certificate downloaded!";
}

// Admin
function adminLogin(){
    const email = adminEmail.value.trim();
    const password = adminPassword.value.trim();
    if(email===adminCredentials.email && password===adminCredentials.password){
        adminLoggedIn=true;
        adminMsg.textContent="Admin logged in successfully!";
        showParticipants();
    }else{
        adminMsg.textContent="Invalid admin credentials!";
    }
}

function showParticipants(){
    if(!adminLoggedIn){ alert("Only admin"); return; }
    const panel=document.getElementById("adminData");
    panel.innerHTML="";
    if(participants.length===0){ panel.textContent="No participants"; return; }
    participants.forEach(p=>{
        const div=document.createElement("div");
        div.style.border="1px solid #ff7043"; div.style.padding="10px"; div.style.margin="5px"; div.style.borderRadius="5px";
        const participantRecipes = recipes.filter(r=>r.participant.email===p.email);
        let mediaHTML="";
        participantRecipes.forEach(r=>{
            if(r.images.length>0 || r.videos.length>0){
                mediaHTML+=`<div class="recipe-media">`;
                r.images.forEach(img=>{ const url=URL.createObjectURL(img); mediaHTML+=`<img src="${url}">`; });
                r.videos.forEach(v=>{ const url=URL.createObjectURL(v); mediaHTML+=`<video src="${url}" controls></video>`; });
                mediaHTML+=`</div>`;
            }
        });
        div.innerHTML=`<strong>Name:</strong> ${p.name}<br>
        <strong>Email:</strong> ${p.email}<br>
        <strong>Phone:</strong> ${p.phone}<br>
        <strong>Role:</strong> ${p.role}<br>
        <strong>Recipes:</strong> ${participantRecipes.map(r=>r.name).join(", ")||"No recipes"} ${mediaHTML}`;
        panel.appendChild(div);
    });
}

// Clear Data (Admin Only)
function clearAllData(){
    if(!adminLoggedIn){ alert("Only admin can clear data"); return; }
    if(confirm("Are you sure you want to clear all data?")){
        participants=[]; recipes=[]; votes={}; registeredParticipant=null;
        adminData.innerHTML="All data cleared successfully!";
    }
}
</script>
</body>
</html>

